<html>
	<head>
        <script type="text/javascript" src="./include/d3/d3.js"></script>
        <script type="text/javascript" src="./include/d3/d3.layout.js"></script>
		<script type="text/javascript" src="./include/date.format.js"></script>
		<script type="text/javascript" src="./include/config.js"></script>
		<script type="text/javascript" src="./include/data_loader.js"></script>
		<script type="text/javascript" src="./include/common.js"></script>
		<script type="text/javascript" src="./graph_plotter.js"></script>
		<script type="text/javascript" src="./data_processor.js"></script>
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
		<style type="text/css">
		.axis {
			shape-rendering:crispEdges;
		}
		.axis path, .axis line {
			fill:none;
			stroke: #000;
		}
		.selected_bar>rect.bar_background {
			fill:red;
			opacity:0.2;
		}
        </style>
	</head>
	<body>
		
		<div id="drawing_area"></div>
		<script>
			drawGraph('d1', ['hour', 'day', 'week', 'month'], 'day', 'sid', 'company.txt');

			function drawGraph(id, t_domain, t_by, b_by, path) {
				var setup="<div id='"+id+"'></div>";
				$("#drawing_area").append(setup);
				var p = new DataProcessor(t_by, t_domain, b_by, path);
				var output = p.process();
	
				var plotter = new SGPlotter(id);
				plotter.setData(output);
				plotter.draw();
	
				//$("#"+id+"_unique").bind('click', function () {plotter.transformUniqueBar();});
				//$("#"+id+"_total").bind('click', function () {plotter.transformTotalBar();});
			}
		</script>

	</body>
</html>

